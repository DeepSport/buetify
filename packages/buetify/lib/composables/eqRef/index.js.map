{"version":3,"sources":["../../../src/composables/eqRef/index.ts"],"names":[],"mappings":"AACA,SAAc,SAAd,QAA+B,KAA/B;AAEA,OAAM,SAAU,QAAV,CAAsB,EAAtB,EAA+B;AACnC,SAAQ,CAAD,IACL,SAAS,CAAC,CAAC,KAAD,EAAQ,OAAR,KAAmB;AAC3B,QAAI,KAAK,GAAG,CAAZ;AACA,WAAO;AACL,MAAA,GAAG,GAAA;AACD,QAAA,KAAK;AACL,eAAO,KAAP;AACD,OAJI;;AAKL,MAAA,GAAG,CAAC,QAAD,EAAY;AACb,YAAI,CAAC,EAAE,CAAC,MAAH,CAAU,QAAV,EAAoB,KAApB,CAAL,EAAiC;AAC/B,UAAA,KAAK,GAAG,QAAR;AACA,UAAA,OAAO;AACR;AACF;;AAVI,KAAP;AAYD,GAdQ,CADX;AAgBD","sourcesContent":["import { Eq } from 'fp-ts/lib/Eq';\r\nimport { Ref, customRef } from 'vue';\r\n\r\nexport function useEqRef<A>(eq: Eq<A>) {\r\n  return (v: A): Ref<A> =>\r\n    customRef((track, trigger) => {\r\n      let value = v;\r\n      return {\r\n        get(): A {\r\n          track();\r\n          return value;\r\n        },\r\n        set(newValue: A) {\r\n          if (!eq.equals(newValue, value)) {\r\n            value = newValue;\r\n            trigger();\r\n          }\r\n        }\r\n      };\r\n    });\r\n}\r\n"],"sourceRoot":"","file":"index.js"}