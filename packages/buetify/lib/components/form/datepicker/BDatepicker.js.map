{"version":3,"sources":["../../../../src/components/form/datepicker/BDatepicker.ts"],"names":[],"mappings":"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","sourcesContent":["import '../../pagination/pagination.sass';\nimport '../../dropdown/dropdown.sass';\nimport './datepicker.sass';\nimport { IO } from 'fp-ts/es6/IO';\nimport { useDisable, UseDisablePropsDefinition } from '../../../composables/disable';\nimport { useEqRef } from '../../../composables/eqRef';\nimport { useFieldData } from '../../../composables/fieldData';\nimport { getUseInputPropsDefinition } from '../../../composables/input/useInput';\nimport { useProxy } from '../../../composables/proxy/useProxy';\nimport { Toggle } from '../../../composables/toggle';\nimport { DateEvent, DEFAULT_DAY_NAMES, DEFAULT_MONTH_NAMES, EventIndicator, MonthNumber } from './shared';\nimport { addDays, eqSerialDate, isDate, WeekdayNumber } from './utils';\nimport { BInput } from '../input/BInput';\nimport {\n  isArrowDownEvent,\n  isArrowLeftEvent,\n  isArrowRightEvent,\n  isArrowUpEvent,\n  isEnterEvent,\n  isEscEvent,\n  isSpaceEvent\n} from '../../../utils/eventHelpers';\nimport { head, isNonEmpty, range } from 'fp-ts/lib/Array';\nimport { constant, FunctionN } from 'fp-ts/lib/function';\nimport { alt, chain, fromNullable, getEq, isNone, isSome, Option, some } from 'fp-ts/lib/Option';\nimport { pipe } from 'fp-ts/lib/pipeable';\nimport BDropdown, { BDropdownPropsDefinition } from '../../dropdown/BDropdown';\nimport BDatepickerTable from './BDatepickerTable';\nimport BField from '../field/BField';\nimport { BSelect, SelectItem } from '../select/BSelect';\nimport {\n  computed,\n  onUnmounted,\n  onMounted,\n  PropType,\n  VNode,\n  defineAsyncComponent,\n  defineComponent,\n  h,\n  Component,\n  ExtractPropTypes,\n  shallowRef,\n  SetupContext,\n  Ref,\n  watch,\n  toRef\n} from 'vue';\nimport { constEmptyArray, isString, toggleListItem } from '../../../utils/helpers';\n\ntype Dropdown = InstanceType<typeof BDropdown>;\n\nexport type DatepickerPosition = 'is-top-right' | 'is-top-left' | 'is-bottom-left';\n\nexport interface DatepickerIcons {\n  next: Component;\n  previous: Component;\n  calendar: Component;\n}\n\nconst DEFAULT_DATEPICKER_ICONS: DatepickerIcons = {\n  previous: defineAsyncComponent(() => import('../../icons/angleLeft')),\n  next: defineAsyncComponent(() => import('../../icons/angleRight')),\n  calendar: defineAsyncComponent(() => import('../../icons/calendar'))\n};\n\nexport function getDatepickerIcons(icons: Partial<DatepickerIcons>): DatepickerIcons {\n  return {\n    ...DEFAULT_DATEPICKER_ICONS,\n    ...icons\n  };\n}\n\nconst BDatepickerPropsDefinition = {\n  ...BDropdownPropsDefinition,\n  ...UseDisablePropsDefinition,\n  ...getUseInputPropsDefinition<Date | Date[]>(),\n  modelValue: {\n    type: [Array, Date] as PropType<Date | Date[]>\n  },\n  'onUpdate:modelValue': {\n    type: Function as PropType<FunctionN<[Date | Date[]], void>>,\n    required: true as const\n  },\n  year: {\n    type: Number,\n    default: new Date().getFullYear()\n  },\n  'onUpdate:year': {\n    type: Function as PropType<FunctionN<[number], void>>,\n    required: false\n  },\n  month: {\n    type: Number as PropType<MonthNumber>,\n    default: new Date().getMonth() as MonthNumber\n  },\n  'onUpdate:month': {\n    type: Function as PropType<FunctionN<[MonthNumber], void>>,\n    required: false\n  },\n  dayNames: {\n    type: Array as PropType<string[]>,\n    default: constant(DEFAULT_DAY_NAMES)\n  },\n  monthNames: {\n    type: Array as PropType<string[]>,\n    default: constant(DEFAULT_MONTH_NAMES)\n  },\n  firstDayOfWeek: {\n    type: Number as PropType<WeekdayNumber>,\n    default: 0 as const\n  },\n  events: {\n    type: Array as PropType<DateEvent[]>,\n    default: constEmptyArray\n  },\n  minDate: {\n    type: Date as PropType<Date>,\n    required: false\n  },\n  maxDate: {\n    type: Date as PropType<Date>,\n    required: false\n  },\n  isDisabled: {\n    type: Boolean,\n    default: false\n  },\n  unselectableDates: {\n    type: Array as PropType<Date[]>,\n    default: constEmptyArray\n  },\n  unselectableDaysOfWeek: {\n    type: Array as PropType<number[]>,\n    default: constEmptyArray\n  },\n  selectableDates: {\n    type: Object as PropType<Date[]>\n  },\n  showWeekNumber: {\n    type: Boolean as PropType<boolean>,\n    default: false as const\n  },\n  isMultiple: {\n    type: Boolean as PropType<boolean>,\n    default: false\n  },\n  placeholder: {\n    type: String as PropType<string>\n  },\n  useMobileNative: {\n    type: Boolean as PropType<boolean>,\n    default: false\n  },\n  position: {\n    type: String as PropType<DatepickerPosition>\n  },\n  indicators: {\n    type: String as PropType<EventIndicator>,\n    default: 'bars' as const\n  },\n  yearsRange: {\n    type: (Array as unknown) as PropType<[number, number]>,\n    default: constant([-5, 3] as const)\n  },\n  closeOnSelect: {\n    type: Boolean as PropType<boolean>,\n    default: true\n  },\n  isReadonly: {\n    type: Boolean as PropType<boolean>,\n    default: true\n  },\n  useNativeValidation: {\n    type: Boolean as PropType<boolean>,\n    default: false\n  },\n  // openOnFocus: {\n  //   type: Boolean as PropType<boolean>,\n  //   default: true\n  // },\n  icons: {\n    type: Object as PropType<DatepickerIcons>,\n    default: constant(DEFAULT_DATEPICKER_ICONS)\n  }\n};\n\nexport type BDatepickerProps = ExtractPropTypes<typeof BDatepickerPropsDefinition>;\n\nfunction useNative(props: BDatepickerProps) {\n  return props.useMobileNative && !props.isInline;\n}\n\nconst useFormattedDate = Intl.DateTimeFormat('default', {\n  year: 'numeric',\n  month: 'numeric',\n  day: 'numeric'\n}).format;\n\nfunction useFormattedModelValue(modelValue?: Date | Date[]) {\n  return Array.isArray(modelValue)\n    ? modelValue.map(useFormattedDate).join(', ')\n    : modelValue\n    ? useFormattedDate(modelValue)\n    : null;\n}\n\nfunction parseInputString(str: string): Date[] {\n  const splits = str.split(',').map(s => s.trim());\n  return splits.map(s => new Date(s)).filter(d => isDate(d) && !isNaN(d.getTime()));\n}\n\nfunction generateInput(props: BDatepickerProps, context: SetupContext, data: BDatepickerData, toggle?: Toggle): VNode {\n  const isMobile = useNative(props);\n  return h(BInput, {\n    max: props.maxDate ? useFormattedDate(props.maxDate) : null,\n    min: props.minDate ? useFormattedDate(props.minDate) : null,\n    autocomplete: 'off',\n    type: isMobile ? 'date' : 'text',\n    modelValue: useFormattedModelValue(data.modelValue.value),\n    'onUpdate:modelValue': (val: string) => {\n      data.modelValue.value = parseInputString(val);\n    },\n    placeholder: props.placeholder,\n    size: props.size,\n    icon: props.icons.calendar,\n    isRounded: props.isRounded,\n    isDisabled: props.isDisabled,\n    isReadonly: props.isReadonly,\n    isLoading: props.isLoading,\n    useNativeValidation: props.useNativeValidation\n    // onFocus: () => {\n    //   if (!isMobile && props.openOnFocus && toggle) {\n    //     if (toggle.isOff.value) {\n    //       console.log('focus-set-on')\n    //       toggle.setOn();\n    //       Date.now()\n    //     }\n    //   }\n    // }\n  });\n}\n\nfunction generateButton(props: BDatepickerProps, data: BDatepickerData, isNext: boolean): VNode {\n  return h(\n    'button',\n    {\n      class: isNext ? 'pagination-next datepicker-next' : 'pagination-previous datepicker-previous',\n      disabled: data.isDisabled,\n      onClick: isNext ? data.nextMonth : data.previousMonth,\n      onKeydown: (e: KeyboardEvent) => {\n        if (isEnterEvent(e) || isSpaceEvent(e)) {\n          e.preventDefault();\n          isNext ? data.nextMonth() : data.previousMonth();\n        }\n      }\n    },\n    [\n      h(isNext ? props.icons.next : (props.icons.previous as any), {\n        variant: 'is-link',\n        isThemeable: false\n      })\n    ]\n  );\n}\n\nfunction generateYearSelect(props: BDatepickerProps, data: BDatepickerData): VNode {\n  return h(BSelect, {\n    items: data.years,\n    modelValue: data.year.value,\n    isDisabled: data.isDisabled,\n    size: props.size,\n    'onUpdate:modelValue': data.setYear\n  });\n}\n\nfunction generateMonthSelect(props: BDatepickerProps, data: BDatepickerData): VNode {\n  return h(BSelect, {\n    items: data.months,\n    isDisabled: data.isDisabled,\n    size: props.size,\n    modelValue: data.month.value,\n    'onUpdate:modelValue': data.setMonth\n  });\n}\n\nfunction generateSelects(props: BDatepickerProps, data: BDatepickerData): VNode {\n  return h('div', { class: 'pagination-list' }, [\n    h(BField, { class: 'is-marginless' }, () => [generateMonthSelect(props, data), generateYearSelect(props, data)])\n  ]);\n}\n\nfunction generateDefaultHeaderContents(props: BDatepickerProps, data: BDatepickerData): VNode {\n  return h('div', { class: ['pagination field is-centered', props.size] }, [\n    generateButton(props, data, false),\n    generateSelects(props, data),\n    generateButton(props, data, true)\n  ]);\n}\n\nfunction generateHeader(props: BDatepickerProps, context: SetupContext, data: BDatepickerData): VNode {\n  return h(\n    'header',\n    { class: 'datepicker-header' },\n    context.slots.header ? context.slots.header(data) : [generateDefaultHeaderContents(props, data)]\n  );\n}\n\nfunction generateDatepickerTable(props: BDatepickerProps, context: SetupContext, data: BDatepickerData): VNode {\n  return h(BDatepickerTable, {\n    modelValue: data.modelValue.value,\n    'onUpdate:modelValue': (val: Date | Date[]) => {\n      data.modelValue.value = val;\n    },\n    focusedDate: data.focusedDate.value,\n    'onUpdate:focusedDate': (val: Option<Date>) => {\n      data.focusedDate.value = val;\n    },\n    dayNames: props.dayNames,\n    monthNames: props.monthNames,\n    firstDayOfWeek: props.firstDayOfWeek,\n    minDate: props.minDate,\n    maxDate: props.maxDate,\n    month: data.month.value,\n    year: data.year.value,\n    isDisabled: data.isDisabled,\n    unselectableDates: props.unselectableDates,\n    unselectableDaysOfWeek: props.unselectableDaysOfWeek,\n    selectableDates: props.selectableDates,\n    events: props.events,\n    indicators: props.indicators,\n    showWeekNumber: props.showWeekNumber\n  });\n}\n\nfunction generateFooter(context: SetupContext): VNode {\n  return h('footer', { class: 'datepicker-footer' }, context.slots.footer && context.slots.footer());\n}\n\nfunction generateCalendar(props: BDatepickerProps, context: SetupContext, data: BDatepickerData): VNode {\n  return h(\n    'section',\n    {\n      class: 'datepicker-content',\n      'aria-label': 'Datepicker calendar'\n    },\n    [generateDatepickerTable(props, context, data)]\n  );\n}\n\nfunction generateDatepickerBody(props: BDatepickerProps, context: SetupContext, data: BDatepickerData): VNode {\n  const nodes = [generateHeader(props, context, data), generateCalendar(props, context, data)];\n  if (context.slots.footer) {\n    nodes.push(generateFooter(context));\n  }\n  return h('div', nodes);\n}\n\nfunction generateDropdown(\n  props: BDatepickerProps,\n  context: SetupContext,\n  data: BDatepickerData,\n  dropdown: Ref<Dropdown | null>\n): VNode {\n  return h(\n    BDropdown,\n    {\n      ref: dropdown,\n      position: props.position,\n      isDisabled: props.isDisabled,\n      isInline: props.isInline\n    },\n    {\n      trigger: (toggle: Toggle) => {\n        return generateInput(props, context, data, toggle);\n      },\n      default: () => generateDatepickerBody(props, context, data)\n    }\n  );\n}\n\ninterface BDatepickerData {\n  month: Ref<MonthNumber>;\n  year: Ref<number>;\n  nextMonth: IO<void>;\n  previousMonth: IO<void>;\n  setYear: FunctionN<[string | number], void>;\n  setMonth: FunctionN<[string | number], void>;\n  months: SelectItem<number>[];\n  years: SelectItem<number>[];\n  isDisabled: boolean;\n  focusedDate: Ref<Option<Date>>;\n  modelValue: Ref<Date | Date[] | undefined>;\n}\n\nfunction getMonths(props: BDatepickerProps, focusedMonth: MonthNumber): SelectItem<number>[] {\n  return props.monthNames.map((month: string, index: number) => ({\n    value: index,\n    text: month,\n    isDisabled: false,\n    isSelected: focusedMonth === index\n  }));\n}\n\nfunction getYears(props: BDatepickerProps, focusedYear: number): SelectItem<number>[] {\n  const currentYear = new Date().getFullYear();\n  return range(props.yearsRange[0], props.yearsRange[1])\n    .map(inc => currentYear + inc)\n    .map(year => ({\n      value: year,\n      text: year.toString(),\n      isDisabled: false,\n      isSelected: focusedYear === year\n    }));\n}\n\nfunction getSetPreviousMonth(props: BDatepickerProps, month: Ref<MonthNumber>, year: Ref<number>) {\n  return (e?: Event) => {\n    if (e) {\n      e.preventDefault();\n    }\n    if (!props.isDisabled) {\n      if (month.value > 0) {\n        month.value = (month.value - 1) as MonthNumber;\n      } else {\n        month.value = 11;\n        year.value = year.value - 1;\n      }\n    }\n  };\n}\n\nfunction getSetNextMonth(props: BDatepickerProps, month: Ref<MonthNumber>, year: Ref<number>) {\n  return (e?: Event) => {\n    if (e) {\n      e.preventDefault();\n    }\n    if (!props.isDisabled) {\n      const mv = month.value;\n      if (mv < 11) {\n        month.value = (mv + 1) as MonthNumber;\n      } else {\n        month.value = 0;\n        year.value = year.value + 1;\n      }\n    }\n  };\n}\n\nfunction getSetMonth(monthRef: Ref<MonthNumber>) {\n  return (month: number | string) => {\n    if (isString(month)) {\n      const newVal = fromNullable(parseInt(month, 10));\n      if (isSome(newVal)) {\n        monthRef.value = newVal.value as MonthNumber;\n      }\n    } else {\n      monthRef.value = month as MonthNumber;\n    }\n  };\n}\n\nfunction getSetYear(yearRef: Ref<number>) {\n  return (year: number | string) => {\n    if (isString(year)) {\n      const newVal = fromNullable(parseInt(year, 10));\n      if (isSome(newVal)) {\n        yearRef.value = newVal.value;\n      }\n    } else {\n      yearRef.value = year;\n    }\n  };\n}\n\nconst toggleSerialDate = toggleListItem(eqSerialDate);\n\nexport default defineComponent({\n  name: 'b-datepicker',\n  props: BDatepickerPropsDefinition,\n  setup(props, context) {\n    const fieldData = useFieldData();\n    const isDisabled = useDisable(props);\n\n    const dropdown: Ref<null | Dropdown> = shallowRef(null);\n\n    const internalValue = shallowRef(props.modelValue);\n\n    watch(\n      () => props.modelValue,\n      newVal => {\n        internalValue.value = newVal;\n      }\n    );\n\n    const modelValue = computed({\n      get() {\n        return internalValue.value;\n      },\n      set(val?: Date | Date[]) {\n        if (!val) {\n          return;\n        }\n        if ((Array.isArray(val) && props.isMultiple) || isDate(val)) {\n          props['onUpdate:modelValue'](val);\n          internalValue.value = val;\n        } else if (props.isMultiple && isDate(val)) {\n          const newVal = toggleSerialDate(\n            val,\n            internalValue.value == undefined\n              ? []\n              : Array.isArray(internalValue.value)\n              ? internalValue.value\n              : [internalValue.value]\n          );\n          props['onUpdate:modelValue'](newVal);\n          internalValue.value = newVal;\n        } else if (Array.isArray(val) && isNonEmpty(val)) {\n          props['onUpdate:modelValue'](val[0]);\n          internalValue.value = val[0];\n        }\n        if (props.closeOnSelect) {\n          dropdown.value && dropdown.value.toggle.setOff();\n        }\n      }\n    });\n\n    const focusedDate = useEqRef(getEq(eqSerialDate))(\n      pipe(\n        fromNullable(props.modelValue),\n        chain(v => (Array.isArray(v) ? head(v) : some(v))),\n        alt(() => some(new Date()))\n      )\n    );\n\n    const { value: month } = useProxy(toRef(props, 'month'), toRef(props, 'onUpdate:month'));\n    const { value: year } = useProxy(toRef(props, 'year'), toRef(props, 'onUpdate:year'));\n\n    const nextMonth = getSetNextMonth(props, month, year);\n    const previousMonth = getSetPreviousMonth(props, month, year);\n    const setMonth = getSetMonth(month);\n    const setYear = getSetYear(year);\n\n    function onKeydown(e: KeyboardEvent) {\n      if (dropdown.value === undefined || dropdown.value?.$el === undefined || !dropdown.value.$el.contains(e.target)) {\n        return;\n      }\n      if (isEscEvent(e)) {\n        dropdown.value && dropdown.value.toggle.setOff();\n        return;\n      }\n      const fd = pipe(\n        focusedDate.value,\n        alt(() =>\n          pipe(\n            fromNullable(modelValue.value),\n            chain(v => (Array.isArray(v) ? head(v) : some(v)))\n          )\n        )\n      );\n      if (isNone(fd)) {\n        return;\n      }\n      if (isEnterEvent(e) || isSpaceEvent(e)) {\n        e.preventDefault();\n        modelValue.value = fd.value;\n      } else if (isArrowUpEvent(e)) {\n        e.preventDefault();\n        focusedDate.value = some(addDays(fd.value, -7));\n      } else if (isArrowRightEvent(e)) {\n        e.preventDefault();\n        focusedDate.value = some(addDays(fd.value, 1));\n      } else if (isArrowDownEvent(e)) {\n        e.preventDefault();\n        focusedDate.value = some(addDays(fd.value, 7));\n      } else if (isArrowLeftEvent(e)) {\n        e.preventDefault();\n        focusedDate.value = some(addDays(fd.value, -1));\n      }\n    }\n\n    onMounted(() => {\n      if (typeof window !== 'undefined') {\n        document.addEventListener('keyup', onKeydown);\n      }\n    });\n\n    onUnmounted(() => {\n      if (typeof window !== 'undefined') {\n        document.removeEventListener('keyup', onKeydown);\n      }\n    });\n\n    watch(\n      focusedDate,\n      fd => {\n        const m = month.value;\n        const y = year.value;\n        if (isSome(fd)) {\n          const fdValue = fd.value;\n          const nMonth = fdValue.getMonth() as MonthNumber;\n          if (nMonth !== m) {\n            month.value = nMonth;\n          }\n          const nYear = fdValue.getFullYear();\n          if (nYear !== y) {\n            year.value = nYear;\n          }\n        }\n      },\n      {\n        immediate: true\n      }\n    );\n\n    return () => {\n      const data: BDatepickerData = {\n        modelValue,\n        month,\n        year,\n        isDisabled: isDisabled.value,\n        focusedDate: focusedDate,\n        nextMonth,\n        previousMonth,\n        setMonth,\n        setYear,\n        months: getMonths(props, month.value),\n        years: getYears(props, year.value)\n      };\n      return h(\n        'article',\n        {\n          class: [\n            'b-datepicker control',\n            props.size,\n            { 'is-expanded': props.isExpanded || fieldData.attrs.isExpanded.value }\n          ]\n        },\n        [useNative(props) ? generateInput(props, context, data) : generateDropdown(props, context, data, dropdown)]\n      );\n    };\n  }\n});\n"],"sourceRoot":"","file":"BDatepicker.js"}