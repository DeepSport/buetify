{"version":3,"sources":["../../../src/components/table/BTableMobileSort.ts"],"names":[],"mappings":"AAEA,SAAS,OAAT,QAAwB,wBAAxB;AACA,OAAO,qBAAP,MAAkC,kDAAlC;AACA,SAAS,wBAAT,QAAyC,gCAAzC;AAEA,SAAS,IAAT,QAAqB,iBAArB;AACA,SAAS,GAAT,EAAc,UAAd,QAAgC,kBAAhC;AACA,SAAS,IAAT,QAAqB,oBAArB;AACA,SAAgB,eAAhB,EAAiC,CAAjC,QAA0C,KAA1C;;AAEA,SAAS,2BAAT,CAAqC,QAArC,EAAyD,cAAzD,EAAiF;AAC/E,SAAO,CAAC,CAAC,KAAD,EAAQ;AAAE,IAAA,KAAK,EAAE;AAAT,GAAR,EAA8B,CACpC,CAAC,CACC,QADD,EAEC;AACE,IAAA,KAAK,EAAE,mBADT;AAEE,IAAA,OAAO,EAAE;AAFX,GAFD,EAMC,CACE,CAAC,CAAC,qBAAD,EAAwB;AACvB,IAAA,UAAU,EAAE,QAAQ,KAAK,YADF;AAEvB,IAAA,IAAI,EAAE;AAFiB,GAAxB,CADH,CAND,CADmC,CAA9B,CAAR;AAeD;;AAED,SAAS,eAAT,CACE,WADF,EAEE,eAFF,EAGE,MAHF,EAIE,aAJF,EAI0C;AAExC,SAAO,CAAC,CAAC,OAAD,EAAU;AAChB,IAAA,WADgB;AAEhB,IAAA,KAAK,EAAE,eAFS;AAGhB,IAAA,OAAO,EAAE,OAHO;AAIhB,IAAA,SAAS,EAAE,OAJK;AAKhB,IAAA,QAAQ,EAAE,OALM;AAMhB,IAAA,UAAU,EAAE,IAAI,CACd,IAAI,CAAC,MAAD,CADU,EAEd,GAAG,CAAC,MAAM,IAAI,MAAM,CAAC,KAAlB,CAFW,EAGd,UAHc,CANA;AAWhB,IAAA,UAAU,EAAE,IAXI;AAYhB,2BAAuB;AAZP,GAAV,CAAR;AAcD;;AAED,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,qBADuB;AAE7B,EAAA,KAAK,EAAE;AACL,IAAA,WAAW,EAAE;AACX,MAAA,IAAI,EAAE;AADK;AADR,GAFsB;;AAO7B,EAAA,KAAK,CAAC,KAAD,EAAM;AACT,UAAM,OAAO,GAAG,wBAAwB,EAAxC;;AAEA,aAAS,mBAAT,GAA4B;AAC1B,MAAA,OAAO,CAAC,mBAAR;AACD;;AAED,WAAO,MAAK;AACV,aAAO,CAAC,CACN,SADM,EAEN;AACE,QAAA,KAAK,EAAE,yBADT;AAEE,sBAAc;AAFhB,OAFM,EAMN,CACE,CAAC,CAAC,KAAD,EAAQ;AAAE,QAAA,KAAK,EAAE;AAAT,OAAR,EAAuC,CACtC,eAAe,CACb,KAAK,CAAC,WADO,EAEb,OAAO,CAAC,eAAR,CAAwB,KAFX,EAGb,OAAO,CAAC,MAAR,CAAe,KAHF,EAIb,OAAO,CAAC,gBAJK,CADuB,EAOtC,2BAA2B,CAAC,OAAO,CAAC,QAAR,CAAiB,KAAlB,EAAyB,mBAAzB,CAPW,CAAvC,CADH,CANM,CAAR;AAkBD,KAnBD;AAoBD;;AAlC4B,CAAD,CAA9B","sourcesContent":["import { IO } from 'fp-ts/IO';\nimport { FunctionN } from 'fp-ts/lib/function';\nimport { BSelect } from '../form/select/BSelect';\nimport VerticalExpansionIcon from '../icons/verticalExpansion/VerticalExpansionIcon';\nimport { useInjectedSortableTable } from './composables/useSortableTable';\nimport { BTableColumn, SortType } from './shared';\nimport { head } from 'fp-ts/lib/Array';\nimport { map, toNullable } from 'fp-ts/lib/Option';\nimport { pipe } from 'fp-ts/lib/pipeable';\nimport { VNode, defineComponent, h } from 'vue';\n\nfunction generateSortDirectionButton(sortType: SortType, toggleSortType: IO<void>): VNode {\n  return h('div', { class: 'control' }, [\n    h(\n      'button',\n      {\n        class: 'button is-primary',\n        onClick: toggleSortType\n      },\n      [\n        h(VerticalExpansionIcon, {\n          isExpanded: sortType === 'Descending',\n          size: 'is-small'\n        })\n      ]\n    )\n  ]);\n}\n\nfunction generateBSelect(\n  placeholder: string | undefined,\n  sortableColumns: BTableColumn[],\n  sortBy: BTableColumn[],\n  setSortColumn: FunctionN<[string], void>\n): VNode {\n  return h(BSelect, {\n    placeholder,\n    items: sortableColumns,\n    itemKey: 'label',\n    itemValue: 'label',\n    itemText: 'label',\n    modelValue: pipe(\n      head(sortBy),\n      map(column => column.label),\n      toNullable\n    ),\n    isExpanded: true,\n    'onUpdate:modelValue': setSortColumn\n  });\n}\n\nexport default defineComponent({\n  name: 'b-table-mobile-sort',\n  props: {\n    placeholder: {\n      type: String\n    }\n  },\n  setup(props) {\n    const sorting = useInjectedSortableTable();\n\n    function toggleSortDirection() {\n      sorting.updateSortDirection();\n    }\n\n    return () => {\n      return h(\n        'section',\n        {\n          class: 'field table-mobile-sort',\n          'aria-label': 'Table Sort Controls'\n        },\n        [\n          h('div', { class: 'field has-addons' }, [\n            generateBSelect(\n              props.placeholder,\n              sorting.sortableColumns.value,\n              sorting.sortBy.value,\n              sorting.updateSortColumn\n            ),\n            generateSortDirectionButton(sorting.sortType.value, toggleSortDirection)\n          ])\n        ]\n      );\n    };\n  }\n});\n"],"sourceRoot":"","file":"BTableMobileSort.js"}