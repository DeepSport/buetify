{"version":3,"sources":["../../../../src/components/icons/utils/useFontAwesomeIconComponent.ts"],"names":[],"mappings":"AAAA,SAAS,KAAK,IAAI,OAAlB,EAA2B,IAAI,IAAI,MAAnC,QAAiD,mCAAjD;AACA,SAAS,CAAT,EAAsD,eAAtD,QAA6E,KAA7E,C,CAEA;;AACA,SAAS,QAAT,QAAyB,wBAAzB;AACA,SAAS,YAAT,QAA6B,6BAA7B;AACA,SAAS,KAAT,QAAsB,YAAtB;AACA,SAAS,oBAAT,QAAqC,kBAArC,C,CAEA;;AAEA,SAAS,aAAT,CAAuB,GAAvB,EAAoC,KAApC,EAAkD;AAChD,SAAQ,KAAK,CAAC,OAAN,CAAc,KAAd,KAAwB,KAAK,CAAC,MAAN,GAAe,CAAxC,IAA+C,CAAC,KAAK,CAAC,OAAN,CAAc,KAAd,CAAD,IAAyB,KAAxE,GAAiF;AAAE,KAAC,GAAD,GAAO;AAAT,GAAjF,GAAoG,EAA3G;AACD,C,CAED;;;AACA,SAAS,SAAT,CAAmB,KAAnB,EAA6B;AAC3B,QAAM,OAAO,GAAG;AACd,eAAW,KAAK,CAAC,IADH;AAEd,gBAAY,KAAK,CAAC,KAFJ;AAGd,aAAS,KAAK,CAAC,UAHD;AAId,iBAAa,KAAK,CAAC,MAJL;AAKd,aAAS,KAAK,CAAC,QALD;AAMd,kBAAc,KAAK,CAAC,OANN;AAOd,0BAAsB,KAAK,CAAC,IAAN,KAAe,YAAf,IAA+B,KAAK,CAAC,IAAN,KAAe,MAPtD;AAQd,wBAAoB,KAAK,CAAC,IAAN,KAAe,UAAf,IAA6B,KAAK,CAAC,IAAN,KAAe,MARlD;AASd,KAAC,MAAM,KAAK,CAAC,IAAI,EAAjB,GAAsB,KAAK,CAAC,IAAN,KAAe,SATvB;AAUd,KAAC,aAAa,KAAK,CAAC,QAAQ,EAA5B,GAAiC,KAAK,CAAC,QAAN,KAAmB,SAVtC;AAWd,KAAC,WAAW,KAAK,CAAC,IAAI,EAAtB,GAA2B,KAAK,CAAC,IAAN,KAAe,SAX5B;AAYd,uBAAmB,KAAK,CAAC;AAZX,GAAhB;AAeA,SAAO,MAAM,CAAC,IAAP,CAAY,OAAZ,EACJ,GADI,CACA,GAAG,IAAK,OAAO,CAAC,GAAD,CAAP,GAAe,GAAf,GAAqB,IAD7B,EAEJ,MAFI,CAEG,GAAG,IAAI,GAFV,CAAP;AAGD;;AAED,SAAS,aAAT,CAAuB,KAAvB,EAAoC;AAClC,SAAO,KAAK,CACT,KADI,CACE,GADF,EAEJ,GAFI,CAEA,CAAC,IAAI,CAAC,CAAC,IAAF,EAFL,EAGJ,MAHI,CAGG,CAAC,IAAI,CAHR,EAIJ,MAJI,CAIG,CAAC,GAAD,EAAM,IAAN,KAAc;AACpB,UAAM,CAAC,GAAG,IAAI,CAAC,OAAL,CAAa,GAAb,CAAV;AACA,UAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAL,CAAW,CAAX,EAAc,CAAd,CAAD,CAArB;AACA,UAAM,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,CAAC,GAAG,CAAf,EAAkB,IAAlB,EAAd;AAEA,IAAA,GAAG,CAAC,IAAD,CAAH,GAAY,KAAZ;AAEA,WAAO,GAAP;AACD,GAZI,EAYF,EAZE,CAAP,CADkC,CAajB;AAClB;;AAED,SAAS,aAAT,CAAuB,GAAvB,EAAkC;AAChC,SAAO,GAAG,CAAC,KAAJ,CAAU,KAAV,EAAiB,MAAjB,CAAwB,CAAC,GAAD,EAAM,CAAN,KAAW;AACxC,IAAA,GAAG,CAAC,CAAD,CAAH,GAAS,IAAT;AAEA,WAAO,GAAP;AACD,GAJM,EAIJ,EAJI,CAAP,CADgC,CAKjB;AAChB,C,CAED;;;AACA,SAAS,iBAAT,CAA2B,IAA3B,EAAoC;AAClC,MAAI,IAAI,KAAK,IAAb,EAAmB;AACjB,WAAO,IAAP;AACD;;AAED,MAAI,OAAO,IAAP,KAAgB,QAAhB,IAA4B,IAAI,CAAC,MAAjC,IAA2C,IAAI,CAAC,QAApD,EAA8D;AAC5D,WAAO,IAAP;AACD;;AAED,MAAI,KAAK,CAAC,OAAN,CAAc,IAAd,KAAuB,IAAI,CAAC,MAAL,KAAgB,CAA3C,EAA8C;AAC5C,WAAO;AAAE,MAAA,MAAM,EAAE,IAAI,CAAC,CAAD,CAAd;AAAmB,MAAA,QAAQ,EAAE,IAAI,CAAC,CAAD;AAAjC,KAAP;AACD;;AAED,MAAI,OAAO,IAAP,KAAgB,QAApB,EAA8B;AAC5B,WAAO;AAAE,MAAA,MAAM,EAAE,KAAV;AAAiB,MAAA,QAAQ,EAAE;AAA3B,KAAP;AACD;AACF,C,CAED;;;AACA,SAAS,OAAT,CAAiB,OAAjB,EAA+B,KAAA,GAAa,EAA5C,EAA8C;AAC5C,MAAI,OAAO,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,WAAO,CAAC,CAAC,OAAD,CAAR;AACD;;AAED,QAAM,MAAM,GAAG,MAAM,CAAC,IAAP,CAAY,OAAO,CAAC,UAAR,IAAsB,EAAlC,EAAsC,MAAtC,CACb,CAAC,GAAD,EAAM,GAAN,KAAa;AACX,UAAM,GAAG,GAAG,OAAO,CAAC,UAAR,CAAmB,GAAnB,CAAZ;;AAEA,YAAQ,GAAR;AACE,WAAK,OAAL;AACE,QAAA,GAAG,CAAC,OAAD,CAAH,GAAe,aAAa,CAAC,GAAD,CAA5B;AACA;;AACF,WAAK,OAAL;AACE,QAAA,GAAG,CAAC,OAAD,CAAH,GAAe,aAAa,CAAC,GAAD,CAA5B;AACA;;AACF;AACE,QAAA,GAAG,CAAC,GAAD,CAAH,GAAW,GAAX;AARJ;;AAWA,WAAO,GAAP;AACD,GAhBY,EAiBb;AAAE,IAAA,KAAK,EAAE,EAAT;AAAa,IAAA,KAAK,EAAE;AAApB,GAjBa,CAiBmB;AAjBnB,GAAf;AAmBA,QAAM;AAAE,IAAA,KAAK,EAAE,MAAM,GAAG,EAAlB;AAAsB,IAAA,KAAK,EAAE,MAAM,GAAG,EAAtC;AAA0C,OAAG;AAA7C,MAA+D,KAArE;AACA,QAAM;AAAE,IAAA,KAAK,EAAE,MAAM,GAAG,EAAlB;AAAsB,IAAA,KAAK,EAAE,MAAM,GAAG,EAAtC;AAA0C,OAAG;AAA7C,MAAgE,MAAtE;AACA,SAAO,CAAC,CACN,OAAO,CAAC,GADF,EAEN,EACE,GAAG,KADL;AAEE,IAAA,KAAK,EAAE,YAAY,CAAC,MAAD,EAAS,MAAT,CAFrB;AAGE,IAAA,KAAK,EAAE,EAAE,GAAG,MAAL;AAAa,SAAG;AAAhB,KAHT;AAIE,OAAG,cAJL;AAKE,OAAG;AALL,GAFM,EASN,CAAC,OAAO,CAAC,QAAR,IAAoB,EAArB,EAAyB,GAAzB,CAA6B,OAA7B,CATM,CAAR;AAWD,C,CAED;;;AACA,SAAS,4BAAT,CAAsC,QAAtC,EAAmD;AACjD,SAAO,SAAS,eAAT,CAAyB,CAAzB,EAA4B;AAAE,IAAA;AAAF,GAA5B,EAAmD;AACxD,UAAM;AAAE,MAAA,IAAI,EAAE,QAAR;AAAkB,MAAA,MAAlB;AAA0B,MAAA;AAA1B,QAAoC,KAA1C,CADwD,CACA;;AACxD,UAAM,IAAI,GAAG,iBAAiB,CAAC,QAAD,CAA9B;AACA,UAAM,OAAO,GAAG,aAAa,CAAC,SAAD,EAAY,SAAS,CAAC,KAAD,CAArB,CAA7B;AACA,UAAM,SAAS,GAAG,aAAa,CAC7B,WAD6B,EAE7B,OAAO,KAAK,CAAC,SAAb,KAA2B,QAA3B,GAAsC,OAAO,CAAC,SAAR,CAAkB,KAAK,CAAC,SAAxB,CAAtC,GAA2E,KAAK,CAAC,SAFpD,CAA/B;AAIA,UAAM,IAAI,GAAG,aAAa,CAAC,MAAD,EAAS,iBAAiB,CAAC,QAAD,CAA1B,CAA1B;AAEA,UAAM;AAAE,MAAA;AAAF,QAAe,MAAM,CAAC,IAAD,EAAO,EAAE,GAAG,OAAL;AAAc,SAAG,SAAjB;AAA4B,SAAG,IAA/B;AAAqC,MAAA,MAArC;AAA6C,MAAA;AAA7C,KAAP,CAA3B;AACA,WAAO,OAAO,CAAC,QAAQ,CAAC,CAAD,CAAT,EAAc,KAAd,CAAd;AACD,GAZD;AAaD;;AAED,MAAM,QAAQ,GAAgC;AAC5C,cAAY,EADgC;AAE5C,MAAI,EAFwC;AAG5C,eAAa,OAH+B;AAI5C,cAAY;AAJgC,CAA9C,C,CAOA;;AACA,OAAM,SAAU,2BAAV,CAAsC,IAAtC,EAAoD,cAApD,EAAuE;AAC3E,QAAM,IAAI,GAAG,4BAA4B,CAAC,cAAD,CAAzC;AACA,SAAO,eAAe,CAAC;AACrB,IAAA,KAAK,EAAE,EACL,GAAG,oBADE;AAEL,MAAA,SAAS,EAAE;AACT,QAAA,IAAI,EAAE;AADG;AAFN,KADc;;AAOrB,IAAA,KAAK,CAAC,KAAD,EAAM;AACT,aAAO,MAAM,CAAC,CAAC,KAAD,EAAQ,KAAR,EAAe,MAAM,CAAC,CAAC,IAAD,EAAO;AAAE,QAAA,KAAK,EAAE,CAAC,KAAK,CAAC,SAAP,EAAkB,QAAQ,CAAC,KAAK,CAAC,IAAP,CAA1B;AAAT,OAAP,CAAtB,CAAd;AACD;;AAToB,GAAD,CAAtB;AAWD","sourcesContent":["import { parse as faParse, icon as faIcon } from '@fortawesome/fontawesome-svg-core';\nimport { h, SetupContext, VNode, FunctionalComponent, defineComponent } from 'vue';\nimport { SizeVariant } from '../../../types';\n// import { IconDefinition } from '@fortawesome/fontawesome-common-types';\nimport { camelize } from '../../../utils/helpers';\nimport { mergeClasses } from '../../../utils/mergeClasses';\nimport { BIcon } from '../../icon';\nimport { BIconPropsDefinition } from '../../icon/BIcon';\n\n//replace iconDefinition with actual definition from fontawesome. causing some typescript issues at the moment\n\nfunction objectWithKey(key: string, value: unknown) {\n  return (Array.isArray(value) && value.length > 0) || (!Array.isArray(value) && value) ? { [key]: value } : {};\n}\n\n// eslint-disable-next-line\nfunction classList(props: any) {\n  const classes = {\n    'fa-spin': props.spin,\n    'fa-pulse': props.pulse,\n    'fa-fw': props.fixedWidth,\n    'fa-border': props.border,\n    'fa-li': props.listItem,\n    'fa-inverse': props.inverse,\n    'fa-flip-horizontal': props.flip === 'horizontal' || props.flip === 'both',\n    'fa-flip-vertical': props.flip === 'vertical' || props.flip === 'both',\n    [`fa-${props.size}`]: props.size !== undefined,\n    [`fa-rotate-${props.rotation}`]: props.rotation !== undefined,\n    [`fa-pull-${props.pull}`]: props.pull !== undefined,\n    'fa-swap-opacity': props.swapOpacity\n  };\n\n  return Object.keys(classes)\n    .map(key => (classes[key] ? key : null))\n    .filter(key => key);\n}\n\nfunction styleToObject(style: string) {\n  return style\n    .split(';')\n    .map(s => s.trim())\n    .filter(s => s)\n    .reduce((acc, pair) => {\n      const i = pair.indexOf(':');\n      const prop = camelize(pair.slice(0, i));\n      const value = pair.slice(i + 1).trim();\n\n      acc[prop] = value;\n\n      return acc;\n    }, {} as any); // eslint-disable-line\n}\n\nfunction classToObject(cls: string) {\n  return cls.split(/\\s+/).reduce((acc, c) => {\n    acc[c] = true;\n\n    return acc;\n  }, {} as any); // eslint-disable-line\n}\n\n// eslint-disable-next-line\nfunction normalizeIconArgs(icon: any) {\n  if (icon === null) {\n    return null;\n  }\n\n  if (typeof icon === 'object' && icon.prefix && icon.iconName) {\n    return icon;\n  }\n\n  if (Array.isArray(icon) && icon.length === 2) {\n    return { prefix: icon[0], iconName: icon[1] };\n  }\n\n  if (typeof icon === 'string') {\n    return { prefix: 'fas', iconName: icon };\n  }\n}\n\n// eslint-disable-next-line\nfunction convert(element: any, attrs: any = {}): VNode {\n  if (typeof element === 'string') {\n    return h(element);\n  }\n\n  const mixins = Object.keys(element.attributes || {}).reduce(\n    (acc, key) => {\n      const val = element.attributes[key];\n\n      switch (key) {\n        case 'class':\n          acc['class'] = classToObject(val);\n          break;\n        case 'style':\n          acc['style'] = styleToObject(val);\n          break;\n        default:\n          acc[key] = val;\n      }\n\n      return acc;\n    },\n    { class: {}, style: {} } as any // eslint-disable-line\n  );\n  const { class: dClass = {}, style: dStyle = {}, ...remainingData } = attrs;\n  const { class: mClass = {}, style: mStyle = {}, ...mRemainingData } = mixins;\n  return h(\n    element.tag,\n    {\n      ...attrs,\n      class: mergeClasses(mClass, dClass),\n      style: { ...mStyle, ...dStyle },\n      ...mRemainingData,\n      ...remainingData\n    },\n    (element.children || []).map(convert)\n  );\n}\n\n// eslint-disable-next-line\nfunction useFontAwesomeIconComponent_(iconArgs: any): FunctionalComponent {\n  return function FontAwesomeIcon(_, { attrs }: SetupContext): VNode {\n    const { mask: maskArgs, symbol, title } = attrs as any; // eslint-disable-line\n    const icon = normalizeIconArgs(iconArgs);\n    const classes = objectWithKey('classes', classList(attrs));\n    const transform = objectWithKey(\n      'transform',\n      typeof attrs.transform === 'string' ? faParse.transform(attrs.transform) : attrs.transform\n    );\n    const mask = objectWithKey('mask', normalizeIconArgs(maskArgs));\n\n    const { abstract } = faIcon(icon, { ...classes, ...transform, ...mask, symbol, title });\n    return convert(abstract[0], attrs);\n  };\n}\n\nconst SIZE_MAP: Record<SizeVariant, string> = {\n  'is-small': '',\n  '': '',\n  'is-medium': 'fa-lg',\n  'is-large': 'fa-2x'\n};\n\n// eslint-disable-next-line\nexport function useFontAwesomeIconComponent(name: string, iconDefinition: any) {\n  const icon = useFontAwesomeIconComponent_(iconDefinition);\n  return defineComponent({\n    props: {\n      ...BIconPropsDefinition,\n      iconClass: {\n        type: String\n      }\n    },\n    setup(props) {\n      return () => h(BIcon, props, () => h(icon, { class: [props.iconClass, SIZE_MAP[props.size]] }));\n    }\n  }) as any;\n}\n"],"sourceRoot":"","file":"useFontAwesomeIconComponent.js"}