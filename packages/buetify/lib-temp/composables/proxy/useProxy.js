import { shallowRef, watch, computed, unref } from 'vue';
export function useProxy(ref, onUpdate) {
    const internalValue = shallowRef(ref.value);
    watch(ref, newValue => {
        internalValue.value = newValue;
    });
    const value = computed({
        get() {
            return internalValue.value;
        },
        set(val) {
            internalValue.value = val;
            const update = unref(onUpdate);
            if (update) {
                update(val);
            }
        }
    });
    return {
        value
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlUHJveHkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9zYWJsZXMvcHJveHkvdXNlUHJveHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFPLFVBQVUsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxNQUFNLEtBQUssQ0FBQztBQUU5RCxNQUFNLFVBQVUsUUFBUSxDQUN0QixHQUFXLEVBQ1gsUUFBdUU7SUFFdkUsTUFBTSxhQUFhLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM1QyxLQUFLLENBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxFQUFFO1FBQ3BCLGFBQWEsQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDO0lBQ2pDLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDO1FBQ3JCLEdBQUc7WUFDRCxPQUFPLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFDN0IsQ0FBQztRQUNELEdBQUcsQ0FBQyxHQUFNO1lBQ1IsYUFBYSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUM7WUFDMUIsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQy9CLElBQUksTUFBTSxFQUFFO2dCQUNWLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNiO1FBQ0gsQ0FBQztLQUNGLENBQUMsQ0FBQztJQUVILE9BQU87UUFDTCxLQUFLO0tBQ04sQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGdW5jdGlvbk4gfSBmcm9tICdmcC10cy9saWIvZnVuY3Rpb24nO1xuaW1wb3J0IHsgUmVmLCBzaGFsbG93UmVmLCB3YXRjaCwgY29tcHV0ZWQsIHVucmVmIH0gZnJvbSAndnVlJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVByb3h5PFQ+KFxuICByZWY6IFJlZjxUPixcbiAgb25VcGRhdGU/OiBSZWY8RnVuY3Rpb25OPFtUXSwgdm9pZD4gfCB1bmRlZmluZWQ+IHwgRnVuY3Rpb25OPFtUXSwgdm9pZD5cbik6IFByb3h5PFQ+IHtcbiAgY29uc3QgaW50ZXJuYWxWYWx1ZSA9IHNoYWxsb3dSZWYocmVmLnZhbHVlKTtcbiAgd2F0Y2gocmVmLCBuZXdWYWx1ZSA9PiB7XG4gICAgaW50ZXJuYWxWYWx1ZS52YWx1ZSA9IG5ld1ZhbHVlO1xuICB9KTtcblxuICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVkKHtcbiAgICBnZXQoKSB7XG4gICAgICByZXR1cm4gaW50ZXJuYWxWYWx1ZS52YWx1ZTtcbiAgICB9LFxuICAgIHNldCh2YWw6IFQpIHtcbiAgICAgIGludGVybmFsVmFsdWUudmFsdWUgPSB2YWw7XG4gICAgICBjb25zdCB1cGRhdGUgPSB1bnJlZihvblVwZGF0ZSk7XG4gICAgICBpZiAodXBkYXRlKSB7XG4gICAgICAgIHVwZGF0ZSh2YWwpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICB2YWx1ZVxuICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb3h5PFQ+IHtcbiAgdmFsdWU6IFJlZjxUPjtcbn1cbiJdfQ==